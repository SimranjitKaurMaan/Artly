(this["webpackJsonpe-commerce-app"]=this["webpackJsonpe-commerce-app"]||[]).push([[0],{40:function(e,r,t){},41:function(e,r,t){},47:function(e,r,t){"use strict";t.r(r);var i=t(10),a=t.n(i),n=t(23),s=t.n(n),o=(t(40),t(41),t.p+"static/media/logo.a4227f29.png"),c=t(2);var d=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("img",{src:o,alt:"mockBee logo",width:"180",height:"180"}),Object(c.jsxs)("h1",{className:"brand-title",children:["Welcome to ",Object(c.jsx)("span",{children:"mockBee!"})]}),Object(c.jsxs)("p",{className:"brand-description",children:["Get started by editing ",Object(c.jsx)("code",{children:"src/App.js"})]}),Object(c.jsxs)("div",{className:"links",children:[Object(c.jsx)("a",{href:"https://mockbee.netlify.app/",target:"_blank",rel:"noreferrer",children:"Explore mockBee"}),Object(c.jsx)("a",{href:"https://mockbee.netlify.app/docs/api/introduction",target:"_blank",rel:"noreferrer",children:"API Documentation"}),Object(c.jsx)("a",{href:"https://github.com/neogcamp/mockBee",target:"_blank",rel:"noreferrer",children:"Contribute"})]})]})})},u=t(3),h=t(0),l=t(35),b=t(48),p=t(24),f=t.n(p),m=t(25),_=function(e){var r=e.requestHeaders.authorization,t=Object(m.a)(r,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_JWT_SECRET);if(t){var i=this.db.users.findBy({email:t.email});if(i)return i._id}return new h.b(401,{},{errors:["The token is invalid. Unauthorized access error."]})},w=function(){return f()().format("YYYY-MM-DDTHH:mm:ssZ")},y=["email","password"],O=t(45),g=function(e,r){var t=JSON.parse(r.requestBody),i=t.email,a=t.password,n=Object(l.a)(t,y);try{if(e.users.findBy({email:i}))return new h.b(422,{},{errors:["Unprocessable Entity. Email Already Exists."]});var s=Object(b.a)(),o=Object(u.a)(Object(u.a)({_id:s,email:i,password:a,createdAt:w(),updatedAt:w()},n),{},{cart:[],wishlist:[]}),c=e.users.create(o),d=O({_id:s,email:i},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_JWT_SECRET);return new h.b(201,{},{createdUser:c,encodedToken:d})}catch(p){return new h.b(500,{},{error:p})}},v=function(e,r){var t=JSON.parse(r.requestBody),i=t.email,a=t.password;try{var n=e.users.findBy({email:i});if(!n)return new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});if(a===n.password){var s=O({_id:n._id,email:i},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_JWT_SECRET);return n.password=void 0,new h.b(200,{},{foundUser:n,encodedToken:s})}new h.b(401,{},{errors:["The credentials you entered are invalid. Unauthorized access error."]})}catch(o){return new h.b(500,{},{error:o})}},j=function(e,r){var t=_.call(this,r);t||new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).cart;return new h.b(200,{},{cart:i})},T=function(e,r){var t=_.call(this,r);try{t||new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).cart,a=JSON.parse(r.requestBody).product;return i.push(Object(u.a)(Object(u.a)({},a),{},{createdAt:w(),updatedAt:w(),qty:1})),this.db.users.update({_id:t},{cart:i}),new h.b(201,{},{cart:i})}catch(n){return new h.b(500,{},{error:n})}},E=function(e,r){var t=_.call(this,r);try{t||new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).cart,a=r.params.productId;return i=i.filter((function(e){return e._id!==a})),this.db.users.update({_id:t},{cart:i}),new h.b(200,{},{cart:i})}catch(n){return new h.b(500,{},{error:n})}},S=function(e,r){var t=r.params.productId,i=_.call(this,r);try{i||new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var a=e.users.findBy({_id:i}).cart,n=JSON.parse(r.requestBody).action;return"increment"===n.type?a.forEach((function(e){e._id===t&&(e.qty+=1,e.updatedAt=w())})):"decrement"===n.type&&a.forEach((function(e){e._id===t&&(e.qty-=1,e.updatedAt=w())})),this.db.users.update({_id:i},{cart:a}),new h.b(200,{},{cart:a})}catch(s){return new h.b(500,{},{error:s})}},N=function(){try{return new h.b(200,{},{categories:this.db.categories})}catch(e){return new h.b(500,{},{error:e})}},A=function(e,r){var t=r.params.categoryId;try{var i=e.categories.findBy({_id:t});return new h.b(200,{},{category:i})}catch(a){new h.b(500,{},{error:a})}},R=function(){return new h.b(200,{},{products:this.db.products})},B=function(e,r){var t=r.params.productId;try{var i=e.products.findBy({_id:t});return new h.b(200,{},{product:i})}catch(a){return new h.b(500,{},{error:a})}},k=function(e,r){var t=_.call(this,r);t||new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).wishlist;return new h.b(200,{},{wishlist:i})},C=function(e,r){var t=_.call(this,r);try{t||new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).wishlist,a=JSON.parse(r.requestBody).product;return i.push(Object(u.a)(Object(u.a)({},a),{},{createdAt:w(),updatedAt:w()})),this.db.users.update({_id:t},{wishlist:i}),new h.b(201,{},{wishlist:i})}catch(n){return new h.b(500,{},{error:n})}},I=function(e,r){var t=_.call(this,r);try{t||new h.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).wishlist,a=r.params.productId;return i=i.filter((function(e){return e._id!==a})),this.db.users.update({_id:t},{wishlist:i}),new h.b(200,{},{wishlist:i})}catch(n){return new h.b(500,{},{error:n})}},P=[{_id:Object(b.a)(),categoryName:"fiction",description:"literature in the form of prose, especially novels, that describes imaginary events and people"},{_id:Object(b.a)(),categoryName:"non-fiction",description:"Non-fiction is writing that gives information or describes real events, rather than telling a story."},{_id:Object(b.a)(),categoryName:"horror",description:"Meant to cause discomfort and fear for both the character and readers, horror writers often make use of supernatural and paranormal elements in morbid stories that are sometimes a little too realistic."}],x=[{_id:Object(b.a)(),title:"You Can WIN",author:"Shiv Khera",price:"5000",categoryName:"non-fiction"},{_id:Object(b.a)(),title:"You are Winner",author:"Junaid Qureshi",price:"3000",categoryName:"horror"},{_id:Object(b.a)(),title:"Think and Grow Rich",author:"Shiv Khera",price:"1000",categoryName:"fiction"}],D=[{_id:Object(b.a)(),firstName:"Adarsh",lastName:"Balika",email:"adarshbalika@gmail.com",password:"adarshbalika",createdAt:w(),updatedAt:w()}];!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.environment,t=void 0===r?"development":r;new h.d({serializers:{application:h.c},environment:t,models:{product:h.a,category:h.a,user:h.a,cart:h.a,wishlist:h.a},seeds:function(e){e.logging=!1,x.forEach((function(r){e.create("product",Object(u.a)({},r))})),D.forEach((function(r){return e.create("user",Object(u.a)(Object(u.a)({},r),{},{cart:[],wishlist:[]}))})),P.forEach((function(r){return e.create("category",Object(u.a)({},r))}))},routes:function(){this.namespace="api",this.post("/auth/signup",g.bind(this)),this.post("/auth/login",v.bind(this)),this.get("/products",R.bind(this)),this.get("/products/:productId",B.bind(this)),this.get("/categories",N.bind(this)),this.get("/categories/:categoryId",A.bind(this)),this.get("/user/cart",j.bind(this)),this.post("/user/cart",T.bind(this)),this.post("/user/cart/:productId",S.bind(this)),this.delete("/user/cart/:productId",E.bind(this)),this.get("/user/wishlist",k.bind(this)),this.post("/user/wishlist",C.bind(this)),this.delete("/user/wishlist/:productId",I.bind(this))}})}(),s.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(d,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.4f279dca.chunk.js.map