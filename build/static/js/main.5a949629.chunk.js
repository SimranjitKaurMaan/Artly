(this["webpackJsonpe-commerce-app"]=this["webpackJsonpe-commerce-app"]||[]).push([[0],{49:function(e,r,t){},50:function(e,r,t){},58:function(e,r,t){"use strict";t.r(r);var i=t(1),a=t.n(i),s=t(29),n=t.n(s),o=(t(49),t(50),t.p+"static/media/logo.a4227f29.png"),c=t(2);var d=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsxs)("header",{className:"App-header",children:[Object(c.jsx)("img",{src:o,alt:"mockBee logo",width:"180",height:"180"}),Object(c.jsxs)("h1",{className:"brand-title",children:["Welcome to ",Object(c.jsx)("span",{children:"mockBee!"})]}),Object(c.jsxs)("p",{className:"brand-description",children:["Get started by editing ",Object(c.jsx)("code",{children:"src/App.js"})]}),Object(c.jsxs)("div",{className:"links",children:[Object(c.jsx)("a",{href:"https://mockbee.netlify.app/",target:"_blank",rel:"noreferrer",children:"Explore mockBee"}),Object(c.jsx)("a",{href:"https://mockbee.netlify.app/docs/api/introduction",target:"_blank",rel:"noreferrer",children:"API Documentation"}),Object(c.jsx)("a",{href:"https://github.com/neogcamp/mockBee",target:"_blank",rel:"noreferrer",children:"Contribute"})]})]})})},u=t(30);var h=function(){return Object(c.jsx)("div",{className:"MockAPI",children:Object(c.jsx)(u.a,{colorScheme:"dark"})})},l=t(4),b=t(0),p=t(44),m=t(59),f=t(32),_=t.n(f),w=t(33),O=function(e){var r=e.requestHeaders.authorization,t=Object(w.a)(r,Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_JWT_SECRET);if(t){var i=this.db.users.findBy({email:t.email});if(i)return i._id}return new b.b(401,{},{errors:["The token is invalid. Unauthorized access error."]})},y=function(){return _()().format("YYYY-MM-DDTHH:mm:ssZ")},j=["email","password"],v=t(56),g=function(e,r){var t=JSON.parse(r.requestBody),i=t.email,a=t.password,s=Object(p.a)(t,j);try{if(e.users.findBy({email:i}))return new b.b(422,{},{errors:["Unprocessable Entity. Email Already Exists."]});var n=Object(m.a)(),o=Object(l.a)(Object(l.a)({_id:n,email:i,password:a,createdAt:y(),updatedAt:y()},s),{},{cart:[],wishlist:[]}),c=e.users.create(o),d=v({_id:n,email:i},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_JWT_SECRET);return new b.b(201,{},{createdUser:c,encodedToken:d})}catch(u){return new b.b(500,{},{error:u})}},T=function(e,r){var t=JSON.parse(r.requestBody),i=t.email,a=t.password;try{var s=e.users.findBy({email:i});if(!s)return new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});if(a===s.password){var n=v({_id:s._id,email:i},Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_JWT_SECRET);return s.password=void 0,new b.b(200,{},{foundUser:s,encodedToken:n})}new b.b(401,{},{errors:["The credentials you entered are invalid. Unauthorized access error."]})}catch(o){return new b.b(500,{},{error:o})}},E=function(e,r){var t=O.call(this,r);t||new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).cart;return new b.b(200,{},{cart:i})},S=function(e,r){var t=O.call(this,r);try{t||new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).cart,a=JSON.parse(r.requestBody).product;return i.push(Object(l.a)(Object(l.a)({},a),{},{createdAt:y(),updatedAt:y(),qty:1})),this.db.users.update({_id:t},{cart:i}),new b.b(201,{},{cart:i})}catch(s){return new b.b(500,{},{error:s})}},N=function(e,r){var t=O.call(this,r);try{t||new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).cart,a=r.params.productId;return i=i.filter((function(e){return e._id!==a})),this.db.users.update({_id:t},{cart:i}),new b.b(200,{},{cart:i})}catch(s){return new b.b(500,{},{error:s})}},A=function(e,r){var t=r.params.productId,i=O.call(this,r);try{i||new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var a=e.users.findBy({_id:i}).cart,s=JSON.parse(r.requestBody).action;return"increment"===s.type?a.forEach((function(e){e._id===t&&(e.qty+=1,e.updatedAt=y())})):"decrement"===s.type&&a.forEach((function(e){e._id===t&&(e.qty-=1,e.updatedAt=y())})),this.db.users.update({_id:i},{cart:a}),new b.b(200,{},{cart:a})}catch(n){return new b.b(500,{},{error:n})}},R=function(){try{return new b.b(200,{},{categories:this.db.categories})}catch(e){return new b.b(500,{},{error:e})}},B=function(e,r){var t=r.params.categoryId;try{var i=e.categories.findBy({_id:t});return new b.b(200,{},{category:i})}catch(a){new b.b(500,{},{error:a})}},k=function(){return new b.b(200,{},{products:this.db.products})},C=function(e,r){var t=r.params.productId;try{var i=e.products.findBy({_id:t});return new b.b(200,{},{product:i})}catch(a){return new b.b(500,{},{error:a})}},x=function(e,r){var t=O.call(this,r);t||new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).wishlist;return new b.b(200,{},{wishlist:i})},I=function(e,r){var t=O.call(this,r);try{t||new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).wishlist,a=JSON.parse(r.requestBody).product;return i.push(Object(l.a)(Object(l.a)({},a),{},{createdAt:y(),updatedAt:y()})),this.db.users.update({_id:t},{wishlist:i}),new b.b(201,{},{wishlist:i})}catch(s){return new b.b(500,{},{error:s})}},P=function(e,r){var t=O.call(this,r);try{t||new b.b(404,{},{errors:["The email you entered is not Registered. Not Found error"]});var i=e.users.findBy({_id:t}).wishlist,a=r.params.productId;return i=i.filter((function(e){return e._id!==a})),this.db.users.update({_id:t},{wishlist:i}),new b.b(200,{},{wishlist:i})}catch(s){return new b.b(500,{},{error:s})}},D=[{_id:Object(m.a)(),categoryName:"fiction",description:"literature in the form of prose, especially novels, that describes imaginary events and people"},{_id:Object(m.a)(),categoryName:"non-fiction",description:"Non-fiction is writing that gives information or describes real events, rather than telling a story."},{_id:Object(m.a)(),categoryName:"horror",description:"Meant to cause discomfort and fear for both the character and readers, horror writers often make use of supernatural and paranormal elements in morbid stories that are sometimes a little too realistic."}],W=[{_id:Object(m.a)(),title:"You Can WIN",author:"Shiv Khera",price:"5000",categoryName:"non-fiction"},{_id:Object(m.a)(),title:"You are Winner",author:"Junaid Qureshi",price:"3000",categoryName:"horror"},{_id:Object(m.a)(),title:"Think and Grow Rich",author:"Shiv Khera",price:"1000",categoryName:"fiction"}],F=[{_id:Object(m.a)(),firstName:"Adarsh",lastName:"Balika",email:"adarshbalika@gmail.com",password:"adarshbalika",createdAt:y(),updatedAt:y()}];!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.environment,t=void 0===r?"development":r;new b.d({serializers:{application:b.c},environment:t,models:{product:b.a,category:b.a,user:b.a,cart:b.a,wishlist:b.a},seeds:function(e){e.logging=!1,W.forEach((function(r){e.create("product",Object(l.a)({},r))})),F.forEach((function(r){return e.create("user",Object(l.a)(Object(l.a)({},r),{},{cart:[],wishlist:[]}))})),D.forEach((function(r){return e.create("category",Object(l.a)({},r))}))},routes:function(){this.namespace="api",this.post("/auth/signup",g.bind(this)),this.post("/auth/login",T.bind(this)),this.get("/products",k.bind(this)),this.get("/products/:productId",C.bind(this)),this.get("/categories",R.bind(this)),this.get("/categories/:categoryId",B.bind(this)),this.get("/user/cart",E.bind(this)),this.post("/user/cart",S.bind(this)),this.post("/user/cart/:productId",A.bind(this)),this.delete("/user/cart/:productId",N.bind(this)),this.get("/user/wishlist",x.bind(this)),this.post("/user/wishlist",I.bind(this)),this.delete("/user/wishlist/:productId",P.bind(this))}})}(),n.a.render(Object(c.jsxs)(a.a.StrictMode,{children:[Object(c.jsx)(d,{}),Object(c.jsx)(h,{})]}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.5a949629.chunk.js.map